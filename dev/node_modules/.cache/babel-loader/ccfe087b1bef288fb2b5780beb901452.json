{"ast":null,"code":"import _slicedToArray from\"/Users/ccrm/Desktop/projects/chartjs/dev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Switch}from'@material-ui/core';import{Bar}from'react-chartjs-2';var Chart=function Chart(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];useEffect(function(){fetch('http://localhost:5000').then(function(res){return res.json();}).then(function(data){var chartData={labels:data.map(function(_ref){var city=_ref.city;return city;}),datasets:[{label:'Total population',data:data.map(function(_ref2){var total=_ref2.total;return total;}),backgroundColor:['rgb(50, 168, 82)','rgb(168, 50, 50)','rgb(50, 144, 168)','rgb(142, 50, 168)','rgb(193, 201, 34)','rgb(64, 237, 231)','rgb(237, 64, 64)','rgb(32, 103, 135)']},{label:'Men',data:data.map(function(_ref3){var men=_ref3.men;return men;}),backgroundColor:['rgb(65, 204, 103)','rgb(222, 73, 73)','rgb(78, 193, 222)','rgb(190, 70, 224)','rgb(219, 227, 68)','rgb(111, 227, 223)','rgb(237, 114, 114)','rgb(60, 158, 201)']},{label:'Women',data:data.map(function(_ref4){var women=_ref4.women;return women;}),backgroundColor:['rgba(111, 227, 143)','rgba(240, 115, 115)','rgba(140, 218, 237)','rgba(211, 127, 235)','rgba(234, 240, 120)','rgba(182, 227, 225)','rgba(237, 164, 164)','rgb(106, 196, 235)']}]};setData(chartData);setLoading(false);}).catch(function(error){return console.log(error);});},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"chart\"},loading&&/*#__PURE__*/React.createElement(\"p\",null,\"Chart loading...\"),/*#__PURE__*/React.createElement(Switch,{name:\"checkedA\",onClick:props.handleClick}),/*#__PURE__*/React.createElement(Bar,{data:data,options:{title:{display:true,text:\"Andalucía population by region\",fontSize:25},legend:{display:true,position:'right'}}}));};export default Chart;","map":{"version":3,"sources":["/Users/ccrm/Desktop/projects/chartjs/dev/src/components/charts/BarChart.js"],"names":["React","useState","useEffect","Switch","Bar","Chart","props","loading","setLoading","data","setData","fetch","then","res","json","chartData","labels","map","city","datasets","label","total","backgroundColor","men","women","catch","error","console","log","handleClick","title","display","text","fontSize","legend","position"],"mappings":"+JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,MAAT,KAAuB,mBAAvB,CACA,OAASC,GAAT,KAAoB,iBAApB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,KAAD,CAAW,eACOL,QAAQ,CAAC,IAAD,CADf,wCAChBM,OADgB,eACPC,UADO,8BAECP,QAAQ,CAAC,EAAD,CAFT,yCAEhBQ,IAFgB,eAEVC,OAFU,eAIvBR,SAAS,CAAC,UAAM,CACdS,KAAK,CACH,uBADG,CAAL,CAEGC,IAFH,CAEQ,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAFX,EAGGF,IAHH,CAGQ,SAAAH,IAAI,CAAI,CACZ,GAAIM,CAAAA,SAAS,CAAG,CACdC,MAAM,CAAEP,IAAI,CAACQ,GAAL,CAAS,kBAAGC,CAAAA,IAAH,MAAGA,IAAH,OAAcA,CAAAA,IAAd,EAAT,CADM,CAEdC,QAAQ,CAAE,CAAC,CACTC,KAAK,CAAE,kBADE,CAETX,IAAI,CAAEA,IAAI,CAACQ,GAAL,CAAS,mBAAGI,CAAAA,KAAH,OAAGA,KAAH,OAAeA,CAAAA,KAAf,EAAT,CAFG,CAGTC,eAAe,CAAE,CACf,kBADe,CAEf,kBAFe,CAGf,mBAHe,CAIf,mBAJe,CAKf,mBALe,CAMf,mBANe,CAOf,kBAPe,CAQf,mBARe,CAHR,CAAD,CAaV,CACEF,KAAK,CAAE,KADT,CAEEX,IAAI,CAAEA,IAAI,CAACQ,GAAL,CAAS,mBAAGM,CAAAA,GAAH,OAAGA,GAAH,OAAaA,CAAAA,GAAb,EAAT,CAFR,CAGED,eAAe,CAAE,CACf,mBADe,CAEf,kBAFe,CAGf,mBAHe,CAIf,mBAJe,CAKf,mBALe,CAMf,oBANe,CAOf,oBAPe,CAQf,mBARe,CAHnB,CAbU,CA0BV,CACEF,KAAK,CAAE,OADT,CAEEX,IAAI,CAAEA,IAAI,CAACQ,GAAL,CAAS,mBAAGO,CAAAA,KAAH,OAAGA,KAAH,OAAeA,CAAAA,KAAf,EAAT,CAFR,CAGEF,eAAe,CAAE,CACf,qBADe,CAEf,qBAFe,CAGf,qBAHe,CAIf,qBAJe,CAKf,qBALe,CAMf,qBANe,CAOf,qBAPe,CAQf,oBARe,CAHnB,CA1BU,CAFI,CAAhB,CA2CAZ,OAAO,CAACK,SAAD,CAAP,CACAP,UAAU,CAAC,KAAD,CAAV,CACD,CAjDH,EAkDGiB,KAlDH,CAkDS,SAAAC,KAAK,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAJ,EAlDd,EAmDD,CApDQ,CAoDN,EApDM,CAAT,CAsDA,mBAEE,2BAAK,SAAS,CAAC,OAAf,EACGnB,OAAO,eAAI,gDADd,cAEE,oBAAC,MAAD,EAAQ,IAAI,CAAC,UAAb,CAAwB,OAAO,CAAED,KAAK,CAACuB,WAAvC,EAFF,cAIE,oBAAC,GAAD,EACE,IAAI,CAAEpB,IADR,CAEE,OAAO,CAAE,CACPqB,KAAK,CAAE,CACLC,OAAO,CAAE,IADJ,CAELC,IAAI,CAAE,gCAFD,CAGLC,QAAQ,CAAE,EAHL,CADA,CAMPC,MAAM,CAAE,CACNH,OAAO,CAAE,IADH,CAENI,QAAQ,CAAE,OAFJ,CAND,CAFX,EAJF,CAFF,CAsBD,CAhFD,CAkFA,cAAe9B,CAAAA,KAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Switch } from '@material-ui/core';\nimport { Bar } from 'react-chartjs-2';\n\nconst Chart = (props) => {\n  const [loading, setLoading] = useState(true);\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    fetch(\n      'http://localhost:5000')\n      .then(res => res.json())\n      .then(data => {\n        let chartData = {\n          labels: data.map(({ city }) => city),\n          datasets: [{\n            label: 'Total population',\n            data: data.map(({ total }) => total),\n            backgroundColor: [\n              'rgb(50, 168, 82)',\n              'rgb(168, 50, 50)',\n              'rgb(50, 144, 168)',\n              'rgb(142, 50, 168)',\n              'rgb(193, 201, 34)',\n              'rgb(64, 237, 231)',\n              'rgb(237, 64, 64)',\n              'rgb(32, 103, 135)']\n          },\n          {\n            label: 'Men',\n            data: data.map(({ men }) => men),\n            backgroundColor: [\n              'rgb(65, 204, 103)',\n              'rgb(222, 73, 73)',\n              'rgb(78, 193, 222)',\n              'rgb(190, 70, 224)',\n              'rgb(219, 227, 68)',\n              'rgb(111, 227, 223)',\n              'rgb(237, 114, 114)',\n              'rgb(60, 158, 201)']\n          },\n          {\n            label: 'Women',\n            data: data.map(({ women }) => women),\n            backgroundColor: [\n              'rgba(111, 227, 143)',\n              'rgba(240, 115, 115)',\n              'rgba(140, 218, 237)',\n              'rgba(211, 127, 235)',\n              'rgba(234, 240, 120)',\n              'rgba(182, 227, 225)',\n              'rgba(237, 164, 164)',\n              'rgb(106, 196, 235)']\n          }\n          ]\n        }\n        setData(chartData);\n        setLoading(false)\n      })\n      .catch(error => console.log(error));\n  }, []);\n\n  return (\n\n    <div className=\"chart\">\n      {loading && <p>Chart loading...</p>}\n      <Switch name=\"checkedA\" onClick={props.handleClick} />\n\n      <Bar\n        data={data}\n        options={{\n          title: {\n            display: true,\n            text: \"Andalucía population by region\",\n            fontSize: 25\n          },\n          legend: {\n            display: true,\n            position: 'right'\n          }\n        }}\n      />\n    </div>\n  )\n}\n\nexport default Chart;"]},"metadata":{},"sourceType":"module"}